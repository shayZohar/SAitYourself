/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Directive, ElementRef, Input, Output, HostListener, HostBinding, EventEmitter } from '@angular/core';
import { EventService } from './event.service';
import { CrystalLightbox } from './lightbox.service';
export class LightboxDirective {
    /**
     * @param {?} lightbox
     * @param {?} eventService
     * @param {?} elementRef
     */
    constructor(lightbox, eventService, elementRef) {
        this.lightbox = lightbox;
        this.eventService = eventService;
        this.elementRef = elementRef;
        this.properties = {};
        this.events = new EventEmitter();
        this.hostLightboxGroup = true;
        this.globalEventsSubscription = this.eventService.emitter.subscribe((/**
         * @param {?} event
         * @return {?}
         */
        (event) => {
            this.handleGlobalEvents(event);
        }));
    }
    /**
     * @return {?}
     */
    get hostSimpleMode() {
        return this.simpleMode;
    }
    /**
     * @return {?}
     */
    get isGroupImage() {
        return this.elementRef.nativeElement.closest(".lightbox-group");
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onClick(event) {
        if (this.disable) {
            return;
        }
        if (this.isGroupImage) {
            this.eventService.emitChangeEvent({
                type: 'thumbnail:click',
                elementRef: this.elementRef,
                properties: this.properties
            });
        }
        else {
            this.image = this.getImage();
            this.lightbox.open({
                images: [this.image],
                properties: this.properties,
                index: 0
            });
        }
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        this.properties = this.getProperties(changes);
    }
    /**
     * @param {?} event
     * @return {?}
     */
    handleGlobalEvents(event) {
        this.events.emit(event);
    }
    /**
     * @return {?}
     */
    getImage() {
        /** @type {?} */
        let image = {};
        /** @type {?} */
        const nativeElement = this.elementRef.nativeElement;
        if (this.fullImage) {
            image.fullImage = this.fullImage;
        }
        image.thumbnailImage = {
            path: nativeElement.src,
            height: nativeElement.naturalHeight,
            width: nativeElement.naturalWidth
        };
        image.nativeElement = nativeElement;
        return image;
    }
    ;
    /**
     * @param {?} changes
     * @return {?}
     */
    getProperties(changes) {
        /** @type {?} */
        let properties = {};
        for (var prop in changes) {
            if (prop !== 'fullImage') {
                properties[prop] = changes[prop].currentValue;
            }
        }
        return properties;
    }
}
LightboxDirective.decorators = [
    { type: Directive, args: [{
                selector: '[lightbox]'
            },] }
];
/** @nocollapse */
LightboxDirective.ctorParameters = () => [
    { type: CrystalLightbox },
    { type: EventService },
    { type: ElementRef }
];
LightboxDirective.propDecorators = {
    fullImage: [{ type: Input }],
    properties: [{ type: Input }],
    loop: [{ type: Input }],
    backgroundOpacity: [{ type: Input }],
    counter: [{ type: Input }],
    imageMaxHeight: [{ type: Input }],
    imageMaxWidth: [{ type: Input }],
    animationDuration: [{ type: Input }],
    animationMode: [{ type: Input }],
    animationTimingFunction: [{ type: Input }],
    closeButtonText: [{ type: Input }],
    counterSeparator: [{ type: Input }],
    disable: [{ type: Input }],
    simpleMode: [{ type: Input }],
    backgroundColor: [{ type: Input }],
    hideThumbnail: [{ type: Input }],
    gestureEnable: [{ type: Input }],
    events: [{ type: Output }],
    hostLightboxGroup: [{ type: HostBinding, args: ['class.lightbox-single',] }],
    hostSimpleMode: [{ type: HostBinding, args: ['class.lightbox-simple-mode',] }],
    onClick: [{ type: HostListener, args: ['click', ['$event'],] }]
};
if (false) {
    /** @type {?} */
    LightboxDirective.prototype.globalEventsSubscription;
    /** @type {?} */
    LightboxDirective.prototype.image;
    /** @type {?} */
    LightboxDirective.prototype.fullImage;
    /** @type {?} */
    LightboxDirective.prototype.properties;
    /** @type {?} */
    LightboxDirective.prototype.loop;
    /** @type {?} */
    LightboxDirective.prototype.backgroundOpacity;
    /** @type {?} */
    LightboxDirective.prototype.counter;
    /** @type {?} */
    LightboxDirective.prototype.imageMaxHeight;
    /** @type {?} */
    LightboxDirective.prototype.imageMaxWidth;
    /** @type {?} */
    LightboxDirective.prototype.animationDuration;
    /** @type {?} */
    LightboxDirective.prototype.animationMode;
    /** @type {?} */
    LightboxDirective.prototype.animationTimingFunction;
    /** @type {?} */
    LightboxDirective.prototype.closeButtonText;
    /** @type {?} */
    LightboxDirective.prototype.counterSeparator;
    /** @type {?} */
    LightboxDirective.prototype.disable;
    /** @type {?} */
    LightboxDirective.prototype.simpleMode;
    /** @type {?} */
    LightboxDirective.prototype.backgroundColor;
    /** @type {?} */
    LightboxDirective.prototype.hideThumbnail;
    /** @type {?} */
    LightboxDirective.prototype.gestureEnable;
    /** @type {?} */
    LightboxDirective.prototype.events;
    /** @type {?} */
    LightboxDirective.prototype.hostLightboxGroup;
    /**
     * @type {?}
     * @private
     */
    LightboxDirective.prototype.lightbox;
    /**
     * @type {?}
     * @private
     */
    LightboxDirective.prototype.eventService;
    /**
     * @type {?}
     * @private
     */
    LightboxDirective.prototype.elementRef;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlnaHRib3guZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGNyeXN0YWx1aS9hbmd1bGFyLWxpZ2h0Ym94LyIsInNvdXJjZXMiOlsibGliL2xpZ2h0Ym94LmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFVLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN0SCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFLLG9CQUFvQixDQUFDO0FBT3BELE1BQU0sT0FBTyxpQkFBaUI7Ozs7OztJQWtDMUIsWUFDWSxRQUF5QixFQUN6QixZQUEwQixFQUMxQixVQUFzQjtRQUZ0QixhQUFRLEdBQVIsUUFBUSxDQUFpQjtRQUN6QixpQkFBWSxHQUFaLFlBQVksQ0FBYztRQUMxQixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBaEN6QixlQUFVLEdBQWUsRUFBRSxDQUFDO1FBaUIzQixXQUFNLEdBQXNCLElBQUksWUFBWSxFQUFPLENBQUM7UUFFeEIsc0JBQWlCLEdBQVksSUFBSSxDQUFDO1FBY3BFLElBQUksQ0FBQyx3QkFBd0IsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxTQUFTOzs7O1FBQy9ELENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDTixJQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsQ0FBQyxFQUNKLENBQUM7SUFDTixDQUFDOzs7O0lBbEJELElBQ0ksY0FBYztRQUNkLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUMzQixDQUFDOzs7O0lBRUQsSUFBSSxZQUFZO1FBQ1osT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJ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NkNBQWtDOztJQUNsQyxvQ0FBMEI7O0lBQzFCLHVDQUE2Qjs7SUFDN0IsNENBQTRDOztJQUM1QywwQ0FBZ0M7O0lBQ2hDLDBDQUFnQzs7SUFFaEMsbUNBQThEOztJQUU5RCw4Q0FBd0U7Ozs7O0lBV3BFLHFDQUFpQzs7Ozs7SUFDakMseUNBQWtDOzs7OztJQUNsQyx1Q0FBOEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIElucHV0LCBPdXRwdXQsIEhvc3RMaXN0ZW5lciwgSG9zdEJpbmRpbmcsIE9uSW5pdCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICcuL2V2ZW50LnNlcnZpY2UnO1xuaW1wb3J0IHsgQ3J5c3RhbExpZ2h0Ym94IH0gZnJvbScuL2xpZ2h0Ym94LnNlcnZpY2UnO1xuaW1wb3J0IHsgUHJvcGVydGllcywgSW1hZ2VFeHRlbmRlZCwgSW1hZ2UgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ1tsaWdodGJveF0nXG59KVxuXG5leHBvcnQgY2xhc3MgTGlnaHRib3hEaXJlY3RpdmUge1xuXG4gICAgZ2xvYmFsRXZlbnRzU3Vic2NyaXB0aW9uO1xuICAgIGltYWdlOiBJbWFnZUV4dGVuZGVkO1xuICAgIEBJbnB1dCgpIGZ1bGxJbWFnZTogSW1hZ2U7XG4gICAgQElucHV0KCkgcHJvcGVydGllczogUHJvcGVydGllcyA9IHt9O1xuICAgIEBJbnB1dCgpIGxvb3A6IGJvb2xlYW47XG4gICAgQElucHV0KCkgYmFja2dyb3VuZE9wYWNpdHk6IG51bWJlcjtcbiAgICBASW5wdXQoKSBjb3VudGVyOiBib29sZWFuO1xuICAgIEBJbnB1dCgpIGltYWdlTWF4SGVpZ2h0OiBzdHJpbmc7XG4gICAgQElucHV0KCkgaW1hZ2VNYXhXaWR0aDogc3RyaW5nO1xuICAgIEBJbnB1dCgpIGFuaW1hdGlvbkR1cmF0aW9uOiBudW1iZXI7XG4gICAgQElucHV0KCkgYW5pbWF0aW9uTW9kZTogJ2RlZmF1bHQnIHwgJ3pvb20nIHwgJ3pvb20tYmx1cicgfCAnem9vbS1wcmVsb2FkZXInIHwgJ29wYWNpdHknIHwgJ25vbmUnOyBcbiAgICBASW5wdXQoKSBhbmltYXRpb25UaW1pbmdGdW5jdGlvbjogc3RyaW5nO1xuICAgIEBJbnB1dCgpIGNsb3NlQnV0dG9uVGV4dDogc3RyaW5nO1xuICAgIEBJbnB1dCgpIGNvdW50ZXJTZXBhcmF0b3I6IHN0cmluZztcbiAgICBASW5wdXQoKSBkaXNhYmxlOiBib29sZWFuO1xuICAgIEBJbnB1dCgpIHNpbXBsZU1vZGU6IGJvb2xlYW47XG4gICAgQElucHV0KCkgYmFja2dyb3VuZENvbG9yOiAnYmxhY2snIHwgJ3doaXRlJztcbiAgICBASW5wdXQoKSBoaWRlVGh1bWJuYWlsOiBib29sZWFuO1xuICAgIEBJbnB1dCgpIGdlc3R1cmVFbmFibGU6IGJvb2xlYW47XG5cbiAgICBAT3V0cHV0KCkgZXZlbnRzOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5saWdodGJveC1zaW5nbGUnKSBob3N0TGlnaHRib3hHcm91cDogYm9vbGVhbiA9IHRydWU7XG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5saWdodGJveC1zaW1wbGUtbW9kZScpIFxuICAgIGdldCBob3N0U2ltcGxlTW9kZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5zaW1wbGVNb2RlO1xuICAgIH1cblxuICAgIGdldCBpc0dyb3VwSW1hZ2UoKTpib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmNsb3Nlc3QoXCIubGlnaHRib3gtZ3JvdXBcIik7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoIFxuICAgICAgICBwcml2YXRlIGxpZ2h0Ym94OiBDcnlzdGFsTGlnaHRib3gsIFxuICAgICAgICBwcml2YXRlIGV2ZW50U2VydmljZTogRXZlbnRTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYpIHtcbiAgICAgICAgdGhpcy5nbG9iYWxFdmVudHNTdWJzY3JpcHRpb24gPSB0aGlzLmV2ZW50U2VydmljZS5lbWl0dGVyLnN1YnNjcmliZShcbiAgICAgICAgICAgIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlR2xvYmFsRXZlbnRzKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50J10pXG4gICAgb25DbGljayhldmVudCl7XG4gICAgICAgIGlmICh0aGlzLmRpc2FibGUpe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNHcm91cEltYWdlKXtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmVtaXRDaGFuZ2VFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RodW1ibmFpbDpjbGljaycsXG4gICAgICAgICAgICAgICAgZWxlbWVudFJlZjogdGhpcy5lbGVtZW50UmVmLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHRoaXMucHJvcGVydGllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlID0gdGhpcy5nZXRJbWFnZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmxpZ2h0Ym94Lm9wZW4oe1xuICAgICAgICAgICAgICAgIGltYWdlczogW3RoaXMuaW1hZ2VdLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHRoaXMucHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBpbmRleDogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMuZ2V0UHJvcGVydGllcyhjaGFuZ2VzKTtcbiAgICB9XG5cbiAgICBoYW5kbGVHbG9iYWxFdmVudHMoZXZlbnQpe1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KGV2ZW50KTtcbiAgICB9XG5cbiAgICBnZXRJbWFnZSgpe1xuICAgICAgICBsZXQgaW1hZ2U6IEltYWdlRXh0ZW5kZWQgPSB7fTtcbiAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xuXG4gICAgICAgIGlmICh0aGlzLmZ1bGxJbWFnZSl7XG4gICAgICAgICAgICBpbWFnZS5mdWxsSW1hZ2UgPSB0aGlzLmZ1bGxJbWFnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGltYWdlLnRodW1ibmFpbEltYWdlID0ge1xuICAgICAgICAgICAgcGF0aDogbmF0aXZlRWxlbWVudC5zcmMsXG4gICAgICAgICAgICBoZWlnaHQ6IG5hdGl2ZUVsZW1lbnQubmF0dXJhbEhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiBuYXRpdmVFbGVtZW50Lm5hdHVyYWxXaWR0aFxuICAgICAgICB9XG5cbiAgICAgICAgaW1hZ2UubmF0aXZlRWxlbWVudCA9IG5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9O1xuXG4gICAgZ2V0UHJvcGVydGllcyhjaGFuZ2VzKXtcbiAgICAgICAgbGV0IHByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGNoYW5nZXMpIHtcbiAgICAgICAgICAgIGlmIChwcm9wICE9PSAnZnVsbEltYWdlJyl7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllc1twcm9wXSA9IGNoYW5nZXNbcHJvcF0uY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH1cbn1cbiJdfQ==