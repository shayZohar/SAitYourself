/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Directive, HostBinding, ContentChildren, QueryList } from '@angular/core';
import { EventService } from './event.service';
import { LightboxDirective } from './lightbox.directive';
import { CrystalLightbox } from './lightbox.service';
var LightboxGroupDirective = /** @class */ (function () {
    function LightboxGroupDirective(eventService, lightbox) {
        var _this = this;
        this.eventService = eventService;
        this.lightbox = lightbox;
        this.thumbnailImages = [];
        this.images = [];
        this.properties = {};
        this.hostLightboxGroup = true;
        this.globalEventsSubscription = this.eventService.emitter.subscribe((/**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            _this.handleGlobalEvents(event);
        }));
    }
    Object.defineProperty(LightboxGroupDirective.prototype, "lightboxDirectiveList", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._lightboxDirectiveList) {
                return this._lightboxDirectiveList.toArray();
            }
            else {
                return [];
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} event
     * @return {?}
     */
    LightboxGroupDirective.prototype.handleGlobalEvents = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (event.type === 'thumbnail:click') {
            this.thumbnailImageElement = event.elementRef.nativeElement;
            this.thumbnailImages = this.getThumbnailImages();
            this.thumbnailImageIndex = this.getThumbnailImageIndex(this.thumbnailImageElement);
            if (this.thumbnailImageIndex == undefined) {
                return;
            }
            this.thumbnailLightboxDirective = this.getThumbnailLightboxDirective(this.thumbnailImageIndex);
            this.images = this.getImages();
            this.properties = event.properties;
            this.properties.index = this.thumbnailImageIndex;
            this.lightbox.open({
                images: this.images,
                //index: this.thumbnailImageIndex,
                properties: this.properties
            });
        }
    };
    /**
     * @param {?} element
     * @return {?}
     */
    LightboxGroupDirective.prototype.getThumbnailImageIndex = /**
     * @param {?} element
     * @return {?}
     */
    function (element) {
        /** @type {?} */
        var images = this.thumbnailImages;
        for (var i = 0; i < images.length; i++) {
            if (element === images[i]) {
                return i;
            }
        }
    };
    /**
     * @param {?} index
     * @return {?}
     */
    LightboxGroupDirective.prototype.getThumbnailLightboxDirective = /**
     * @param {?} index
     * @return {?}
     */
    function (index) {
        return this.lightboxDirectiveList[index];
    };
    /**
     * @return {?}
     */
    LightboxGroupDirective.prototype.getThumbnailImages = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var thumbnailImages = [];
        this.lightboxDirectiveList.forEach((/**
         * @param {?} el
         * @return {?}
         */
        function (el) {
            thumbnailImages.push(el['elementRef'].nativeElement);
        }));
        return thumbnailImages;
    };
    /**
     * @return {?}
     */
    LightboxGroupDirective.prototype.getImages = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var images = [];
        this.lightboxDirectiveList.forEach((/**
         * @param {?} el
         * @return {?}
         */
        function (el) {
            /** @type {?} */
            var image = {};
            /** @type {?} */
            var nativeElement = el['elementRef'].nativeElement;
            if (el.fullImage) {
                image.fullImage = el.fullImage;
            }
            image.thumbnailImage = {
                path: nativeElement.src,
                height: nativeElement.naturalHeight,
                width: nativeElement.naturalWidth
            };
            image.nativeElement = nativeElement;
            images.push(image);
        }));
        return images;
    };
    LightboxGroupDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[lightbox-group]'
                },] }
    ];
    /** @nocollapse */
    LightboxGroupDirective.ctorParameters = function () { return [
        { type: EventService },
        { type: CrystalLightbox }
    ]; };
    LightboxGroupDirective.propDecorators = {
        hostLightboxGroup: [{ type: HostBinding, args: ['class.lightbox-group',] }],
        _lightboxDirectiveList: [{ type: ContentChildren, args: [LightboxDirective, { descendants: true },] }]
    };
    return LightboxGroupDirective;
}());
export { LightboxGroupDirective };
if (false) {
    /** @type {?} */
    LightboxGroupDirective.prototype.thumbnailImageElement;
    /** @type {?} */
    LightboxGroupDirective.prototype.thumbnailLightboxDirective;
    /** @type {?} */
    LightboxGroupDirective.prototype.thumbnailImageIndex;
    /** @type {?} */
    LightboxGroupDirective.prototype.thumbnailImages;
    /** @type {?} */
    LightboxGroupDirective.prototype.images;
    /** @type {?} */
    LightboxGroupDirective.prototype.properties;
    /** @type {?} */
    LightboxGroupDirective.prototype.globalEventsSubscription;
    /** @type {?} */
    LightboxGroupDirective.prototype.hostLightboxGroup;
    /** @type {?} */
    LightboxGroupDirective.prototype._lightboxDirectiveList;
    /**
     * @type {?}
     * @private
     */
    LightboxGroupDirective.prototype.eventService;
    /**
     * @type {?}
     * @private
     */
    LightboxGroupDirective.prototype.lightbox;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlnaHRib3gtZ3JvdXAuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGNyeXN0YWx1aS9hbmd1bGFyLWxpZ2h0Ym94LyIsInNvdXJjZXMiOlsibGliL2xpZ2h0Ym94LWdyb3VwLmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsZUFBZSxFQUFFLFNBQVMsRUFBYyxNQUFNLGVBQWUsQ0FBQztBQUMvRixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQUssc0JBQXNCLENBQUE7QUFDdkQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFLLG9CQUFvQixDQUFDO0FBR3BEO0lBdUJJLGdDQUNZLFlBQTBCLEVBQzFCLFFBQXlCO1FBRnJDLGlCQVNDO1FBUlcsaUJBQVksR0FBWixZQUFZLENBQWM7UUFDMUIsYUFBUSxHQUFSLFFBQVEsQ0FBaUI7UUFqQnJDLG9CQUFlLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLFdBQU0sR0FBRyxFQUFFLENBQUM7UUFDWixlQUFVLEdBQWUsRUFBRSxDQUFDO1FBV1Msc0JBQWlCLEdBQVksSUFBSSxDQUFDO1FBTW5FLElBQUksQ0FBQyx3QkFBd0IsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxTQUFTOzs7O1FBQy9ELFVBQUMsS0FBSztZQUNGLEtBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQyxDQUFDLEVBQ0osQ0FBQztJQUNOLENBQUM7SUFuQkQsc0JBQUkseURBQXFCOzs7O1FBQXpCO1lBQ0ksSUFBSSxJQUFJLENBQUMsc0JBQXNCLEVBQUM7Z0JBQzVCLE9BQU8sSUFBSSxDQUFDLHNCQUFzQixDQUFDLE9BQU8sRUFBRSxDQUFDO2FBQ2hEO2lCQUFNO2dCQUNILE9BQU8sRUFBRSxDQUFDO2FBQ2I7UUFDTCxDQUFDOzs7T0FBQTs7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WTtnQkFFWixlQUFlOzs7b0NBd0JuQixXQUFXLFNBQUMsc0JBQXNCO3lDQUNsQyxlQUFlLFNBQUMsaUJBQWlCLEVBQUUsRUFBQyxXQUFXLEVBQUUsSUFBSSxFQUFDOztJQThFM0QsNkJBQUM7Q0FBQSxBQXBHRCxJQW9HQztTQWhHWSxzQkFBc0I7OztJQUMvQix1REFBc0I7O0lBQ3RCLDREQUE4Qzs7SUFDOUMscURBQTRCOztJQUM1QixpREFBcUI7O0lBQ3JCLHdDQUFZOztJQUNaLDRDQUE0Qjs7SUFDNUIsMERBQXlCOztJQVV6QixtREFBdUU7O0lBQ3ZFLHdEQUE4Rzs7Ozs7SUFFMUcsOENBQWtDOzs7OztJQUNsQywwQ0FBaUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIEhvc3RCaW5kaW5nLCBDb250ZW50Q2hpbGRyZW4sIFF1ZXJ5TGlzdCwgRWxlbWVudFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSAnLi9ldmVudC5zZXJ2aWNlJztcbmltcG9ydCB7IExpZ2h0Ym94RGlyZWN0aXZlIH0gZnJvbScuL2xpZ2h0Ym94LmRpcmVjdGl2ZScgXG5pbXBvcnQgeyBDcnlzdGFsTGlnaHRib3ggfSBmcm9tJy4vbGlnaHRib3guc2VydmljZSc7XG5pbXBvcnQgeyBQcm9wZXJ0aWVzLCBJbWFnZUV4dGVuZGVkIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbbGlnaHRib3gtZ3JvdXBdJ1xufSlcblxuZXhwb3J0IGNsYXNzIExpZ2h0Ym94R3JvdXBEaXJlY3RpdmUge1xuICAgIHRodW1ibmFpbEltYWdlRWxlbWVudDtcbiAgICB0aHVtYm5haWxMaWdodGJveERpcmVjdGl2ZTogTGlnaHRib3hEaXJlY3RpdmU7XG4gICAgdGh1bWJuYWlsSW1hZ2VJbmRleDogbnVtYmVyO1xuICAgIHRodW1ibmFpbEltYWdlcyA9IFtdO1xuICAgIGltYWdlcyA9IFtdO1xuICAgIHByb3BlcnRpZXM6IFByb3BlcnRpZXMgPSB7fTsgXG4gICAgZ2xvYmFsRXZlbnRzU3Vic2NyaXB0aW9uO1xuXG4gICAgZ2V0IGxpZ2h0Ym94RGlyZWN0aXZlTGlzdCgpe1xuICAgICAgICBpZiAodGhpcy5fbGlnaHRib3hEaXJlY3RpdmVMaXN0KXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWdodGJveERpcmVjdGl2ZUxpc3QudG9BcnJheSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5saWdodGJveC1ncm91cCcpIGhvc3RMaWdodGJveEdyb3VwOiBib29sZWFuID0gdHJ1ZTtcbiAgICBAQ29udGVudENoaWxkcmVuKExpZ2h0Ym94RGlyZWN0aXZlLCB7ZGVzY2VuZGFudHM6IHRydWV9KSBfbGlnaHRib3hEaXJlY3RpdmVMaXN0OiBRdWVyeUxpc3Q8TGlnaHRib3hEaXJlY3RpdmU+OyBcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBldmVudFNlcnZpY2U6IEV2ZW50U2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBsaWdodGJveDogQ3J5c3RhbExpZ2h0Ym94KSB7XG5cbiAgICAgICAgdGhpcy5nbG9iYWxFdmVudHNTdWJzY3JpcHRpb24gPSB0aGlzLmV2ZW50U2VydmljZS5lbWl0dGVyLnN1YnNjcmliZShcbiAgICAgICAgICAgIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlR2xvYmFsRXZlbnRzKGV2ZW50KTsgXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaGFuZGxlR2xvYmFsRXZlbnRzKGV2ZW50KXtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0aHVtYm5haWw6Y2xpY2snKXtcbiAgICAgICAgICAgIHRoaXMudGh1bWJuYWlsSW1hZ2VFbGVtZW50ID0gZXZlbnQuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy50aHVtYm5haWxJbWFnZXMgPSB0aGlzLmdldFRodW1ibmFpbEltYWdlcygpO1xuICAgICAgICAgICAgdGhpcy50aHVtYm5haWxJbWFnZUluZGV4ID0gdGhpcy5nZXRUaHVtYm5haWxJbWFnZUluZGV4KHRoaXMudGh1bWJuYWlsSW1hZ2VFbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudGh1bWJuYWlsSW1hZ2VJbmRleCA9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50aHVtYm5haWxMaWdodGJveERpcmVjdGl2ZSA9IHRoaXMuZ2V0VGh1bWJuYWlsTGlnaHRib3hEaXJlY3RpdmUodGhpcy50aHVtYm5haWxJbWFnZUluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzID0gdGhpcy5nZXRJbWFnZXMoKTtcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IGV2ZW50LnByb3BlcnRpZXM7XG4gICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMuaW5kZXggPSB0aGlzLnRodW1ibmFpbEltYWdlSW5kZXg7XG5cbiAgICAgICAgICAgIHRoaXMubGlnaHRib3gub3Blbih7XG4gICAgICAgICAgICAgICAgaW1hZ2VzOiB0aGlzLmltYWdlcyxcbiAgICAgICAgICAgICAgICAvL2luZGV4OiB0aGlzLnRodW1ibmFpbEltYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogdGhpcy5wcm9wZXJ0aWVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFRodW1ibmFpbEltYWdlSW5kZXgoZWxlbWVudCl7XG4gICAgICAgIGNvbnN0IGltYWdlcyA9IHRoaXMudGh1bWJuYWlsSW1hZ2VzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IGltYWdlc1tpXSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRUaHVtYm5haWxMaWdodGJveERpcmVjdGl2ZShpbmRleCl7XG4gICAgICAgIHJldHVybiB0aGlzLmxpZ2h0Ym94RGlyZWN0aXZlTGlzdFtpbmRleF07XG4gICAgfVxuXG4gICAgZ2V0VGh1bWJuYWlsSW1hZ2VzKCl7XG4gICAgICAgIGxldCB0aHVtYm5haWxJbWFnZXMgPSBbXTtcbiAgICAgICAgdGhpcy5saWdodGJveERpcmVjdGl2ZUxpc3QuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICB0aHVtYm5haWxJbWFnZXMucHVzaChlbFsnZWxlbWVudFJlZiddLm5hdGl2ZUVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRodW1ibmFpbEltYWdlcztcbiAgICB9XG5cbiAgICBnZXRJbWFnZXMoKXtcbiAgICAgICAgbGV0IGltYWdlcyA9IFtdO1xuICAgICAgICB0aGlzLmxpZ2h0Ym94RGlyZWN0aXZlTGlzdC5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgIGxldCBpbWFnZTogSW1hZ2VFeHRlbmRlZCA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IGVsWydlbGVtZW50UmVmJ10ubmF0aXZlRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKGVsLmZ1bGxJbWFnZSl7XG4gICAgICAgICAgICAgICAgaW1hZ2UuZnVsbEltYWdlID0gZWwuZnVsbEltYWdlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbWFnZS50aHVtYm5haWxJbWFnZSA9IHtcbiAgICAgICAgICAgICAgICBwYXRoOiBuYXRpdmVFbGVtZW50LnNyYyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IG5hdGl2ZUVsZW1lbnQubmF0dXJhbEhlaWdodCxcbiAgICAgICAgICAgICAgICB3aWR0aDogbmF0aXZlRWxlbWVudC5uYXR1cmFsV2lkdGhcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW1hZ2UubmF0aXZlRWxlbWVudCA9IG5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICBpbWFnZXMucHVzaChpbWFnZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBpbWFnZXM7XG4gICAgfVxufVxuIl19